---
date: 2020-01-02 23:48:05
layout: post
title: Cource 2 First VTK project
subtitle: Cource 2 First VTK project
description: >-
  Cource 2: First VTK project
image: >-
  /assets/img/c++.png
optimized_image: >-
  /assets/img/c++.png
category: VTK
tags:
  - VTK
  - c++
author: Ron
paginate: true
---
- 1, Open Qt Creator.
    In the file menu select new project and create a Qt widget Application.
    
- 2, Open pro file and VTK include path, add used libs.
    
		
		INCLUDEPATH += ./work/include/vtk-8.2
		...

		LIBS += -L/usr/local/lib/  -lvtkChartsCore-8.2.1

		LIBS += -L/usr/local/lib/  -lvtkCommonColor-8.2.1

		LIBS += -L/usr/local/lib/  -lvtkCommonComputationalGeometry-8.2.1

		LIBS += -L/usr/local/lib/  -lvtkCommonCore-8.2.1
		...
    

- 3, setQSurfaceFormat

	

		#include "mainwindow.h"

		#include <QApplication>

		#include <vtkQImageToImageSource.h>
		#include <vtkSmartPointer.h>
		#include <QLabel>
		#include <QVTKOpenGLNativeWidget.h>
		int main(int argc, char *argv[])
		{
			QSurfaceFormat::setDefaultFormat(QVTKOpenGLNativeWidget::defaultFormat());
			QApplication a(argc, argv);
			MainWindow w;
			w.show();
			return a.exec();
		}

	

- 4, Create a QVTKOpenGLWidget 
	

		auto vw = new  QVTKOpenGLWidget(this) ;
		vtkRenderWindow *renWin = vw->GetRenderWindow();
		

		vtkRenderer *render= vtkRenderer::New();

		render->SetBackground( 0.1, 0.2, 0.4 );

		vtkSmartPointer<vtkConeSource> coneSource = vtkSmartPointer<vtkConeSource>::New();
		coneSource->SetRadius(.2);
		coneSource->SetHeight(.5);
		coneSource->SetCenter(0, 0, 0);
		vtkSmartPointer<vtkCubeSource> cubeSource = vtkSmartPointer<vtkCubeSource>::New();
		cubeSource->SetXLength(1);
		cubeSource->SetYLength(1);
		cubeSource->SetZLength(2);
		cubeSource->SetCenter(0,0,0);

			vtkSmartPointer<vtkPolyDataMapper> coneMapper =
				vtkSmartPointer<vtkPolyDataMapper>::New();
			coneMapper->SetInputConnection(cubeSource->GetOutputPort());
			vtkSmartPointer<vtkActor> coneActor =
				vtkSmartPointer<vtkActor>::New();
			coneActor->SetMapper(coneMapper);

			vtkSmartPointer<vtkActor> oriConeActor =
				vtkSmartPointer<vtkActor>::New();
			oriConeActor->SetMapper(coneMapper);


			// outline
			vtkSmartPointer<vtkOutlineFilter> outline =
				vtkSmartPointer<vtkOutlineFilter>::New();
			outline->SetInputConnection(cubeSource->GetOutputPort());

			vtkSmartPointer<vtkPolyDataMapper> outlineMapper =
				vtkSmartPointer<vtkPolyDataMapper>::New();
			outlineMapper->SetInputConnection(outline->GetOutputPort());

			vtkSmartPointer<vtkActor> outlineActor =
				vtkSmartPointer<vtkActor>::New();
			outlineActor->SetMapper(outlineMapper);
			outlineActor->GetProperty()->SetColor(0, 0, 0);


		render->AddActor(oriConeActor);
		render->AddActor(outlineActor);
		renWin->AddRenderer( render );
		setCentralWidget(vw);



- 5, Build and run
You will get:
<img src="/assets/img/course1.png">


